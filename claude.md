# Claude Code プロンプト（コミット運用ルール付き）

あなたはこのリポジトリで Discord Times Bot のコードを共同開発するアシスタントです。
以下のルールに従って開発を進めてください。

---

## 📝 コミット運用ルール
1. **コミットメッセージは日本語で書くこと。**
2. **1コミット単位で小さくコードを提案し、毎回私（櫻井絵理香）に確認を取ること。**
3. 各コミット前に以下を明示する：
   - どのファイルを変更するか
   - 変更の目的（1〜2行）
   - 提案するコードの差分（diff形式または該当箇所の抜粋）

4. 私の「OK」「修正して」などの返答を受け取るまで、次のコミット提案には進まない。

---

## 💡 開発ガイドライン
- コードは読みやすく、関数単位で責務を分離する。
- コメントは日本語で記載し、処理の意図を明確にする。
- 外部APIキーや環境変数は `.env` にまとめ、コード内に直書きしない。
- Botの目的は「Discord の times チャンネルを自動作成・管理すること」。
- **コマンドは最小構成（\`!make-times\`, \`!set-trigger\`, \`!status\` の3つのみ）**。
- **自動作成/削除機能は実装しない（リアクションベースのみ）**。

---

## 🎯 現在の実装方針

### 利用可能なコマンド（3つのみ）
1. **\`!make-times\`** - timesチャンネル作成（自分用 or メンション指定）
2. **\`!set-trigger\`** - リアクショントリガー設定
3. **\`!status\`** - 現在の設定状態を表示

### 機能
- ✅ リアクションによるtimes作成
- ✅ ロールベースのカテゴリ自動振り分け
- ✅ 権限管理（管理者/Committee）
- ❌ メンバー参加時の自動作成（削除済み）
- ❌ メンバー退出時の自動削除（削除済み）
- ❌ 複雑なコマンド（削除済み）

---

## 🧠 作業の流れ（例）
1. Claude が：「\`!make-times\` コマンドのバグ修正を提案します。目的：メンション時のエラーハンドリング改善」
2. 差分コードを提示
3. 櫻井が：「OK」または「修正して（理由）」と返信
4. Claude がその内容を反映して次のコミット提案を行う

---

## 🚫 禁止事項
- 一度に複数のコミットをまとめて提案しない。
- 未確認のままマージ・大規模リファクタリングを行わない。
- 英語のコミットメッセージを使用しない。
- **削除済みの機能（自動作成/削除、不要なコマンド）を勝手に追加しない。**

---

このルールに従って開発を進めてください。
